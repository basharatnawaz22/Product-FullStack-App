{"ast":null,"code":"import _asyncToGenerator from\"/Users/basharat.nawaz/Product-App/Product-App-FrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/basharat.nawaz/Product-App/Product-App-FrontEnd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/basharat.nawaz/Product-App/Product-App-FrontEnd/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import{Card,Button,Container,Row,Col}from\"react-bootstrap\";import{useParams}from\"react-router\";import{useState,useEffect}from\"react\";import axios from\"axios\";import ReviewCard from\"../components/ReviewCard\";// import AddReview from \"./AddReview\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductDetail=function ProductDetail(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),review=_useState8[0],setReview=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),image_url=_useState10[0],setImage_url=_useState10[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){var getSingleProductData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/products/getProductReviews/\".concat(id));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;// console.log(data.review);\n//   console.log(\"hello\");\nsetTitle(data.title);setPrice(data.price);setDescription(data.description);setReview(data.review);setImage_url(data.image_url);case 9:case\"end\":return _context.stop();}}},_callee);}));return function getSingleProductData(){return _ref.apply(this,arguments);};}();getSingleProductData();},[id]);//   console.log(\"hello\");\n//   console.log(`price: ${price}`);\n//handle delete\nvar handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!window.confirm(\"Are you sure to delete?\")){_context2.next=3;break;}_context2.next=3;return axios.delete(\"/api/products/\".concat(id));case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function handleDelete(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mt-4\",children:\"Product Details\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Container,{className:\"justify-conten-center\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Card,{className:\"m-5 p-2 rounded\",style:{width:\"30rem\"},children:[/*#__PURE__*/_jsx(Card.Img,{src:image_url,alt:\"Card image\"}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Card.Title,{children:[\"Title: \",title]}),/*#__PURE__*/_jsxs(Card.Title,{children:[\"Price: \\u20B9\",price]}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Description: \",description]}),/*#__PURE__*/_jsx(Button,{href:\"/product/edit/\".concat(id),variant:\"primary\",children:\"Edit\"}),\" \",/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return handleDelete(id);},href:\"/products \",variant:\"primary\",children:\"Delete\"}),\" \",/*#__PURE__*/_jsx(Button,{href:\"/addReview/\".concat(id),children:\"Add Review\"}),\" \",/*#__PURE__*/_jsx(Button,{href:\"/products\",children:\"All Products\"})]})]})}),/*#__PURE__*/_jsxs(Col,{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Reviews\"}),/*#__PURE__*/_jsx(Row,{children:review.map(function(r){return/*#__PURE__*/_jsx(ReviewCard,{review:r},r.id);})})]})]})})]});};export default ProductDetail;","map":{"version":3,"sources":["/Users/basharat.nawaz/Product-App/Product-App-FrontEnd/src/screens/ProductDetail.jsx"],"names":["React","Card","Button","Container","Row","Col","useParams","useState","useEffect","axios","ReviewCard","ProductDetail","title","setTitle","price","setPrice","description","setDescription","review","setReview","image_url","setImage_url","id","getSingleProductData","get","data","handleDelete","window","confirm","delete","width","map","r"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Card, Button, Container, Row, Col } from \"react-bootstrap\";\nimport { useParams } from \"react-router\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport ReviewCard from \"../components/ReviewCard\";\n// import AddReview from \"./AddReview\";\n\nconst ProductDetail = () => {\n  const [title, setTitle] = useState(\"\");\n  const [price, setPrice] = useState(0);\n  const [description, setDescription] = useState(\"\");\n  const [review, setReview] = useState([]);\n  const [image_url, setImage_url] = useState(\"\");\n\n  const { id } = useParams();\n\n  useEffect(() => {\n    const getSingleProductData = async () => {\n      const { data } = await axios.get(`/api/products/getProductReviews/${id}`);\n\n      // console.log(data.review);\n      //   console.log(\"hello\");\n\n      setTitle(data.title);\n      setPrice(data.price);\n      setDescription(data.description);\n      setReview(data.review);\n      setImage_url(data.image_url);\n    };\n    getSingleProductData();\n  }, [id]);\n  //   console.log(\"hello\");\n  //   console.log(`price: ${price}`);\n\n  //handle delete\n  const handleDelete = async (id) => {\n    if (window.confirm(\"Are you sure to delete?\"))\n      await axios.delete(`/api/products/${id}`);\n  };\n\n  return (\n    <>\n      <h1 className=\"text-center mt-4\">Product Details</h1>\n      <hr />\n      <Container className=\"justify-conten-center\">\n        <Row>\n          <Col>\n            <Card className=\"m-5 p-2 rounded\" style={{ width: \"30rem\" }}>\n              <Card.Img src={image_url} alt=\"Card image\" />\n              <Card.Body>\n                <Card.Title>Title: {title}</Card.Title>\n                <Card.Title>Price: â‚¹{price}</Card.Title>\n                <Card.Text>Description: {description}</Card.Text>\n                <Button href={`/product/edit/${id}`} variant=\"primary\">\n                  Edit\n                </Button>{\" \"}\n                <Button\n                  onClick={() => handleDelete(id)}\n                  href={`/products `}\n                  variant=\"primary\"\n                >\n                  Delete\n                </Button>{\" \"}\n                <Button href={`/addReview/${id}`}>Add Review</Button>{\" \"}\n                <Button href=\"/products\">All Products</Button>\n              </Card.Body>\n            </Card>\n          </Col>\n\n          <Col className=\"mt-5\">\n            <h1>Reviews</h1>\n            <Row>\n              {review.map((r) => {\n                return <ReviewCard key={r.id} review={r} />;\n              })}\n            </Row>\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n};\n\nexport default ProductDetail;\n"]},"metadata":{},"sourceType":"module"}