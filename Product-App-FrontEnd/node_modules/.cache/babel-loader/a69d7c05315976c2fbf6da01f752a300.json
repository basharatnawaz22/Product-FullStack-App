{"ast":null,"code":"import _asyncToGenerator from\"/Users/basharat.nawaz/Product-App/Product-App-FrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/basharat.nawaz/Product-App/Product-App-FrontEnd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/basharat.nawaz/Product-App/Product-App-FrontEnd/node_modules/@babel/runtime/regenerator/index.js\";import axios from\"axios\";import React,{useState}from\"react\";import{Button,Container,Form}from\"react-bootstrap\";import{useParams}from\"react-router\";import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var EditProduct=function EditProduct(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),image_url=_useState8[0],setImage_url=_useState8[1];var _useParams=useParams(),id=_useParams.id;// const history = useHistory();\nuseEffect(function(){var getDataById=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/products/\".concat(id));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;// console.log(data);\nsetTitle(data.title);setPrice(data.price);setDescription(data.description);setImage_url(data.image_url);case 8:case\"end\":return _context.stop();}}},_callee);}));return function getDataById(){return _ref.apply(this,arguments);};}();getDataById();},[id]);var editProductHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();data={title:title,price:price,description:description,image_url:image_url,published:true};_context2.next=4;return axios.put(\"/api/products/\".concat(id),data);case 4:alert(\"Information saved successfully!\");// history.push(\"/products\");\ncase 5:case\"end\":return _context2.stop();}}},_callee2);}));return function editProductHandler(_x){return _ref2.apply(this,arguments);};}();// console.log(title);\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Container,{className:\"mt-5 p-2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Edit Product\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"s\",{}),/*#__PURE__*/_jsxs(Form,{onSubmit:editProductHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"exampleForm.ControlInput1\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{value:title,onChange:function onChange(e){return setTitle(e.target.value);},type:\"text\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"exampleForm.ControlTextarea1\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Price\"}),/*#__PURE__*/_jsx(Form.Control,{value:price,onChange:function onChange(e){return setPrice(e.target.value);},type:\"number\",rows:3})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"exampleForm.ControlTextarea1\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{value:description,onChange:function onChange(e){return setDescription(e.target.value);},as:\"textarea\",rows:3})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"exampleForm.ControlTextarea1\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Image URL\"}),/*#__PURE__*/_jsx(Form.Control,{value:image_url,onChange:function onChange(e){return setImage_url(e.target.value);},type:\"text\",rows:3})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Save\"}),\" \",/*#__PURE__*/_jsx(Button,{href:\"/products\",children:\"All Products\"})]})]})});};export default EditProduct;","map":{"version":3,"sources":["/Users/basharat.nawaz/Product-App/Product-App-FrontEnd/src/screens/EditProduct.jsx"],"names":["axios","React","useState","Button","Container","Form","useParams","useEffect","EditProduct","title","setTitle","price","setPrice","description","setDescription","image_url","setImage_url","id","getDataById","get","data","editProductHandler","e","preventDefault","published","put","alert","target","value"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { Button, Container, Form } from \"react-bootstrap\";\nimport { useParams } from \"react-router\";\nimport { useEffect } from \"react\";\n\nconst EditProduct = () => {\n  const [title, setTitle] = useState(\"\");\n  const [price, setPrice] = useState(0);\n  const [description, setDescription] = useState(\"\");\n  const [image_url, setImage_url] = useState(\"\");\n\n  const { id } = useParams();\n  // const history = useHistory();\n\n  useEffect(() => {\n    const getDataById = async () => {\n      const { data } = await axios.get(`/api/products/${id}`);\n\n      // console.log(data);\n\n      setTitle(data.title);\n      setPrice(data.price);\n      setDescription(data.description);\n      setImage_url(data.image_url);\n    };\n    getDataById();\n  }, [id]);\n\n  const editProductHandler = async (e) => {\n    e.preventDefault();\n\n    const data = {\n      title: title,\n      price: price,\n      description: description,\n      image_url: image_url,\n      published: true,\n    };\n    await axios.put(`/api/products/${id}`, data);\n    alert(\"Information saved successfully!\");\n    // history.push(\"/products\");\n  };\n  // console.log(title);\n\n  return (\n    <>\n      <Container className=\"mt-5 p-2\">\n        <h1 className=\"text-center\">Edit Product</h1>\n        <hr />\n        <s></s>\n        <Form onSubmit={editProductHandler}>\n          <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\n            <Form.Label>Title</Form.Label>\n            <Form.Control\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              type=\"text\"\n            />\n          </Form.Group>\n          <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\n            <Form.Label>Price</Form.Label>\n            <Form.Control\n              value={price}\n              onChange={(e) => setPrice(e.target.value)}\n              type=\"number\"\n              rows={3}\n            />\n          </Form.Group>\n          <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\n            <Form.Label>Description</Form.Label>\n            <Form.Control\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              as=\"textarea\"\n              rows={3}\n            />\n          </Form.Group>\n          <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\n            <Form.Label>Image URL</Form.Label>\n            <Form.Control\n              value={image_url}\n              onChange={(e) => setImage_url(e.target.value)}\n              type=\"text\"\n              rows={3}\n            />\n          </Form.Group>\n          <Button type=\"submit\">Save</Button>{\" \"}\n          <Button href={`/products`}>All Products</Button>\n        </Form>\n      </Container>\n    </>\n  );\n};\n\nexport default EditProduct;\n"]},"metadata":{},"sourceType":"module"}